{% extends 'base.html' %}

{% block css %}
{% endblock %}

{% block content %}
<!--suppress ALL -->
<!-- global container -->
<div class="container">
 <div class="col-md-12">
  <h4>SASSyBot Records ({{ total }} found)</h4>
  <br>
  <br>
  <h5><font color="grey">How many alerts within the given timeframe, and between the real/bogus score limits,
   have a host in the GLADE catalog within the search radius that are <i>not</i> in the TNS database and
   are <i>not</i> known solar system objects?</font></h5>
  <br>
  <br>
  <div class="table-responsive">
   <table class="table table-striped table-sm">
    <thead>
      <th colspan="9" style="border: 1px solid black; background-color: #ffffcc;"><center>ZTF</center></th>
      <th colspan="4" style="border: 1px solid black; background-color: #ffffcc;"><center>Alerce</center></th>
      <th colspan="5" style="border: 1px solid black; background-color: #ffffcc;"><center>GLADE</center></th>
      <th colspan="4" style="border: 1px solid black; background-color: #ffffcc;"><center>Other</center></th>
    </thead>
    <thead>
      <tr>
       <!-- ZTF: Thumbnail(s) -->
       <th>Thumbnail(s)</th>
       <!-- ZTF: ObjectId -->
       <th>ObjectId</th>
       <!-- ZTF: sid -->
       <th>sid</th>
       <!-- ZTF: RA -->
       <th>RA</th>
       <!-- ZTF: Dec -->
       <th>Dec</th>
       <!-- ZTF: JD -->
       <th>JD</th>
       <!-- ZTF: CandId -->
       <th>CandId</th>
       <!-- ZTF: rb -->
       <th>rb</th>
       <!-- ZTF: drb -->
       <th>drb</th>
       <!-- Alerce: early classifier -->
       <th>Early</th>
       <!-- Alerce: early percent -->
       <th>P(Early)</th>
       <!-- Alerce: late classifier -->
       <th>Late</th>
       <!-- Alerce: late percent -->
       <th>P(Late)</th>
       <!-- Glade_q3c: dbid -->
       <th>dbid</th>
       <!-- Glade_q3c: RA -->
       <th>RA</th>
       <!-- Glade_q3c: Dec -->
       <th>Dec</th>
       <!-- Glade_q3c: Mpc -->
       <th>Distance</th>
       <!-- Glade_q3c: z -->
       <th>z</th>
       <!-- Other: Separation -->
       <th>Separation</th>
       <!-- Other: Sci -->
       <th>Science</th>
       <!-- Other: Tmp -->
       <th>Template</th>
       <!-- Other: Dif -->
       <th>Difference</th>
      </tr>
      <tr>
       <!-- ZTF: Thumbnail(s) -->
       <th><font color="grey">png</font></th>
       <!-- ZTF: ObjectId -->
       <th><font color="grey"> </font></th>
       <!-- ZTF: sid -->
       <th><font color="grey"> </font></th>
       <!-- ZTF: RA -->
       <th><font color="grey">J2k&deg;</font></th>
       <!-- ZTF: Dec -->
       <th><font color="grey">J2k&deg;</font></th>
       <!-- ZTF: JD -->
       <th><font color="grey"> </font></th>
       <!-- ZTF: CandId -->
       <th><font color="grey"> </font></th>
       <!-- ZTF: rb -->
       <th><font color="grey">0.0&mdash;1.0</font></th>
       <!-- ZTF: drb -->
       <th><font color="grey">0.0&mdash;1.0</font></th>
       <!-- Alerce: early classifier -->
       <th><font color="grey">Class</font></th>
       <!-- Alerce: early percent -->
       <th><font color="grey"><center>%</center></font></th>
       <!-- Alerce: late classifier -->
       <th><font color="grey">Class</font></th>
       <!-- Alerce: late percent -->
       <th><font color="grey"><center>%</center></font></th>
       <!-- Glade_q3c: dbid -->
       <th><font color="grey"> </font></th>
       <!-- Glade_q3c: RA -->
       <th><font color="grey">J2k&deg;</font></th>
       <!-- Glade_q3c: Dec -->
       <th><font color="grey">J2k&deg;</font></th>
       <!-- Glade_q3c: Mpc -->
       <th><font color="grey">Mpc</font></th>
       <!-- Glade_q3c: z -->
       <th><font color="grey"> </font></th>
       <!-- Other: Separation -->
       <th><font color="grey">&Prime;</font></th>
       <!-- Other: Sci -->
       <th><font color="grey">.fits.gz</font></th>
       <!-- Other: Tmp -->
       <th><font color="grey">.fits.gz</font></th>
       <!-- Other: Dif -->
       <th><font color="grey">.fits.gz</font></th>
      </tr>
    </thead>
    <tbody>
     {% for _history in history %}
      <tr>
       <!-- ZTF: Thumbnail(s) -->
       {% if _history.png %}
        <td><img src="{{ _history.png }}" alt="Unknown" height="75" width="225"></td>
       {% else %}
        <td>Not available</td>
       {% endif %}
       <!-- ZTF: ObjectId -->
       <td>{{ _history.objectId }}</td>
       <!-- ZTF: sid -->
       <td><a href="{{ url_for('ztf_detail', id=_history.sid) }}">{{ _history.sid }}</a></td>
       <!-- ZTF: RA -->
       <td>{{ "%.4f"|format(_history.RA) }}</td>
       <!-- ZTF: Dec -->
       <td>{{ "%.4f"|format(_history.Dec) }}</td>
       <!-- ZTF: JD -->
       <td>{{ "%.4f"|format(_history.jd) }}</td>
       <!-- ZTF: CandId -->
       <td>{{ _history.candid }}</td>
       <!-- ZTF: rb -->
       <td>{{ "%.3f"|format(_history.rb) }}</td>
       <!-- ZTF: drb -->
       <td>{{ "%.3f"|format(_history.drb) }}</td>
       <!-- Alerce: early classifier -->
       <td>{{ _history.early_classifier }}</td>
       <!-- Alerce: early percent -->
       <td>{{ "%.3f"|format(_history.early_percent) }}</td>
       <!-- Alerce: late classifier -->
       <td>{{ _history.late_classifier }}</td>
       <!-- Alerce: late percent -->
       <td>{{ "%.3f"|format(_history.late_percent) }}</td>
       <!-- Glade_q3c: dbid -->
       <td><a href="{{ url_for('glade_q3c_detail', dbid=_history.gid) }}">{{ _history.gid }}</a></td>
       <!-- Glade_q3c: RA -->
       <td>{{ "%.4f"|format(_history.gRA) }}</td>
       <!-- Glade_q3c: Dec -->
       <td>{{ "%.4f"|format(_history.gDec) }}</td>
       <!-- Glade_q3c: Mpc -->
       <td>{{ "%.1f"|format(_history.gDist) }}</td>
       <!-- Glade_q3c: z -->
       <td>{{ "%.3f"|format(_history.gRedshift) }}</td>
       <!-- Other: Separation -->
       <td>{{ "%.2f"|format(_history.gDelta) }}</td>
       <!-- Other: Sci -->
       <td>
	  <a href="{{ url_for('ztf_alert_stamp', id=_history.sid, stamp='Science') }}" class="btn btn-outline-success btn-sm">sci</a>
       </td>
       <!-- Other: Tmp -->
       <td>
	  <a href="{{ url_for('ztf_alert_stamp', id=_history.sid, stamp='Template') }}" class="btn btn-outline-info btn-sm">tmp</a>
       </td>
       <!-- Other: Dif -->
       <td>
	  <a href="{{ url_for('ztf_alert_stamp', id=_history.sid, stamp='Difference') }}" class="btn btn-outline-warning btn-sm">dif</a>
       </td>
      </tr>
     {% endfor %}
    </tbody>
   </table>
  </div>
  <br>
  <div class="col-md-2"><a href="{{ url_for('sassy_home') }}" class="btn btn-md btn-info"><i class="fas fa-backward"></i></a></div>
 </div>
</div>
{% endblock %}

{% block js %}
{% endblock %}
